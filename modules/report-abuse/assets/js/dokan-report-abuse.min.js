!function(o){var e={};function n(t){if(e[t])return e[t].exports;var a=e[t]={i:t,l:!1,exports:{}};return o[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=o,n.c=e,n.d=function(o,e,t){n.o(o,e)||Object.defineProperty(o,e,{configurable:!1,enumerable:!0,get:t})},n.n=function(o){var e=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(e,"a",e),e},n.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},n.p="",n(n.s=99)}({1:function(o,e){o.exports=jQuery},99:function(o,e,n){"use strict";(function(o){dokan.reportAbuse={button:null,form_html:"",flashMessage:"",init:function(){var e=this;o(".dokan-report-abuse-button").on("click",function(n){if(n.preventDefault(),e.button=this,"on"===dokanReportAbuse.reported_by_logged_in_users_only&&!dokanReportAbuse.is_user_logged_in)return o("body").trigger("dokan:login_form_popup:show");e.getForm()}),o("body").on("dokan:login_form_popup:fetching_form",function(){e.showLoadingAnim()}),o("body").on("dokan:login_form_popup:fetched_form",function(){e.stopLoadingAnim()}),o("body").on("dokan:login_form_popup:logged_in",function(o,n){dokanReportAbuse.is_user_logged_in=!0,dokanReportAbuse.nonce=n.data.dokan_report_abuse_nonce,e.getForm()}),o("body").on("submit","#dokan-report-abuse-form-popup form",function(o){o.preventDefault(),e.submitForm(this)})},showLoadingAnim:function(){o(this.button).addClass("working").children("i").removeClass("fa-flag").addClass("fa-spin fa-refresh")},stopLoadingAnim:function(){o(this.button).removeClass("working").children("i").removeClass("fa-spin fa-refresh").addClass("fa-flag")},submittingForm:function(){o("#dokan-report-abuse-form-popup fieldset").prop("disabled",!0),o("#dokan-report-abuse-form-submit-btn").addClass("dokan-hide"),o("#dokan-report-abuse-form-working-btn").removeClass("dokan-hide")},submittedForm:function(){o("#dokan-report-abuse-form-popup fieldset").prop("disabled",!1),o("#dokan-report-abuse-form-submit-btn").removeClass("dokan-hide"),o("#dokan-report-abuse-form-working-btn").addClass("dokan-hide")},getForm:function(){var e=this;e.form_html?e.showPopup():(e.showLoadingAnim(),o.ajax({url:dokan.ajaxurl,method:"get",dataType:"json",data:{_wpnonce:dokanReportAbuse.nonce,action:"dokan_report_abuse_get_form"}}).done(function(o){e.form_html=o.data,e.showPopup()}).always(function(){e.stopLoadingAnim()}))},showPopup:function(){var e=this;o.magnificPopup.open({items:{src:e.form_html,type:"inline"},callbacks:{afterClose:function(){e.afterPopupClose()}}})},afterPopupClose:function(){this.flashMessage&&(alert(this.flashMessage),this.flashMessage="")},submitForm:function(e){var n=this,t=(o(e).serialize(),o(".dokan-popup-error","#dokan-report-abuse-form-popup"));t.removeClass("has-error").text(""),n.submittingForm(),o.ajax({url:dokan.ajaxurl,method:"post",dataType:"json",data:{_wpnonce:dokanReportAbuse.nonce,action:"dokan_report_abuse_submit_form",form_data:{reason:o(e).find('[name="reason"]:checked').val(),product_id:dokanReportAbuse.product_id,customer_name:o(e).find('[name="customer_name"]').val(),customer_email:o(e).find('[name="customer_email"]').val(),description:o(e).find('[name="description"]').val()}}}).done(function(e){n.flashMessage=e.data.message,o.magnificPopup.close()}).always(function(){n.submittedForm()}).fail(function(o){o.responseJSON&&o.responseJSON.data&&o.responseJSON.data.message&&t.addClass("has-error").text(o.responseJSON.data.message)})}},dokan.reportAbuse.init()}).call(e,n(1))}});